# AI Plan Builder (Tranche 9) â€” LLM provider configuration
# Default behavior: deterministic; no LLM configuration required.

# Enable LLM mode (server-side only)
AI_PLAN_BUILDER_AI_MODE=deterministic

# LLM provider selection
AI_PLAN_BUILDER_LLM_PROVIDER=openai

# Single model id
AI_PLAN_BUILDER_LLM_MODEL=

# OpenAI secret (DO NOT COMMIT REAL VALUES)
OPENAI_API_KEY=

# Optional guardrails
AI_PLAN_BUILDER_LLM_TIMEOUT_MS=20000
AI_PLAN_BUILDER_LLM_MAX_OUTPUT_TOKENS=1200

# Tranche 10: controlled rollout (per-capability overrides)
# Values: inherit | deterministic | llm
AI_PLAN_BUILDER_AI_CAP_SUMMARIZE_INTAKE=inherit
AI_PLAN_BUILDER_AI_CAP_SUGGEST_DRAFT_PLAN=inherit
AI_PLAN_BUILDER_AI_CAP_SUGGEST_PROPOSAL_DIFFS=inherit

# Tranche 10: per-capability token limits (optional)
AI_PLAN_BUILDER_LLM_MAX_OUTPUT_TOKENS_SUMMARIZE_INTAKE=
AI_PLAN_BUILDER_LLM_MAX_OUTPUT_TOKENS_SUGGEST_DRAFT_PLAN=
AI_PLAN_BUILDER_LLM_MAX_OUTPUT_TOKENS_SUGGEST_PROPOSAL_DIFFS=

# Tranche 10: retry/rate limit policy (server-side)
# Retry count = number of retries (not attempts). Default 1; max 2.
AI_PLAN_BUILDER_LLM_RETRY_COUNT=1

# Budget: max LLM invocations per actor per hour.
AI_PLAN_BUILDER_LLM_RATE_LIMIT_PER_HOUR=20

# Tranche 11A: admin audit viewer access (comma-separated emails)
AI_PLAN_BUILDER_ADMIN_EMAILS=

# Tranche 12: usage alerts (optional; defaults apply if unset)
AI_USAGE_ALERT_CALLS_PER_DAY_THRESHOLD=500
AI_USAGE_ALERT_FALLBACK_RATE_THRESHOLD=0.15
AI_USAGE_ALERT_ERROR_RATE_THRESHOLD=0.05
AI_USAGE_ALERT_P95_LATENCY_MS_THRESHOLD=25000
AI_USAGE_ALERT_COST_USD_PER_DAY_THRESHOLD=10

# Coach onboarding invite emails (Step 2B)
# Provider auto-detect priority:
# 1) INVITE_EMAIL_PROVIDER if set (resend | postmark | ses)
# 2) RESEND_API_KEY
# 3) POSTMARK_SERVER_TOKEN
# 4) AWS SES credentials
INVITE_EMAIL_PROVIDER=
INVITE_EMAIL_FROM=

# Resend
RESEND_API_KEY=

# Postmark
POSTMARK_SERVER_TOKEN=
POSTMARK_MESSAGE_STREAM=outbound

# AWS SES
AWS_REGION=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_SESSION_TOKEN=
SES_CONFIGURATION_SET_NAME=
SES_REPLY_TO=
